"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){e[a=void 0===a?r:a]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__rest=this&&this.__rest||function(e,t){var r={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},__read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,n,i=r.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(a=i.next()).done;)s.push(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return s},jsx_runtime_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("react/jsx-runtime")),react_1=__importStar(require("react")),input_style_1=require("../Input/input.style"),aphrodite_1=require("../../helpers/aphrodite"),Textarea=react_1.default.forwardRef(function(e,t){var r=e.label,a=e.type,a=void 0===a?"primary":a,n=e.labelClass,i=e.className,i=void 0===i?"":i,s=e.inputClass,s=void 0===s?"":s,l=e.rows,l=void 0===l?3:l,o=e.size,o=void 0===o?"base":o,c=e.helpText,u=void 0===c?"":c,c=e.bgAlpha,c=void 0===c?80:c,_=__rest(e,["label","type","labelClass","className","inputClass","rows","size","helpText","bgAlpha"]),d=(0,react_1.useId)(),p=__read((0,react_1.useState)(""),2),f=p[0],h=p[1],m=(0,react_1.useRef)(null),b=(0,input_style_1.useStyles)({type:a,errorText:f,placeholder:_.placeholder,size:o,bgAlpha:c}),p=((0,react_1.useEffect)(function(){h(e.error||"")},[e.error]),(0,react_1.useEffect)(function(){var e,t,r;if(m.current)return e=m.current,t=function(e){return h(null==(e=e.detail)?void 0:e.error)},e.addEventListener("input",r=function(){return h("")}),e.addEventListener("field-error",t),function(){e.removeEventListener("input",r),e.removeEventListener("field-error",t)}},[]),(0,react_1.useMemo)(function(){return f?(0,jsx_runtime_1.jsx)("span",{className:(0,aphrodite_1.css)(b.errorFeedback),children:f}):u?(0,jsx_runtime_1.jsx)("span",{className:(0,aphrodite_1.css)(b.helpFeedback),children:u}):null},[f,u,b.errorFeedback,b.helpFeedback]));return(0,react_1.useImperativeHandle)(t,function(){return m.current},[]),e.floating?(0,jsx_runtime_1.jsxs)("div",{"data-testid":_.id,id:_.id,style:_.style,className:i,children:[(0,jsx_runtime_1.jsxs)("label",{className:"".concat((0,aphrodite_1.css)(b.label,b.floatingLabel)," ").concat(n||""),htmlFor:d,children:[(0,jsx_runtime_1.jsx)("textarea",__assign({},_,{ref:m,className:"".concat((0,aphrodite_1.css)(b.input,b.floatingInput)," ").concat(s||""),id:d,rows:l,"data-name":_.name,placeholder:_.placeholder||r})),(0,jsx_runtime_1.jsx)("span",{children:r})]}),p]}):(0,jsx_runtime_1.jsxs)("div",{"data-testid":_.id,id:_.id,style:_.style,className:i,children:[r?(0,jsx_runtime_1.jsx)("label",{htmlFor:d,className:"".concat((0,aphrodite_1.css)(b.label,b.normalLabel)," ").concat(n||""),children:r}):null,(0,jsx_runtime_1.jsx)("textarea",__assign({},_,{id:d,rows:l,"data-name":_.name,ref:m,className:"".concat((0,aphrodite_1.css)(b.input)," ").concat(s||"")})),p]})});Textarea.displayName="Textarea",exports.default=Textarea;