"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,i)}:function(e,t,r,a){e[a=void 0===a?r:a]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(){var i=function(e){return(i=Object.getOwnPropertyNames||function(e){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[r.length]=t);return r})(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=i(e),a=0;a<r.length;a++)"default"!==r[a]&&__createBinding(t,e,r[a]);return __setModuleDefault(t,e),t}}(),__read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(a=n.next()).done;)o.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jsx_runtime_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("react/jsx-runtime")),react_1=__importStar(require("react")),aphrodite_1=require("../../helpers/aphrodite"),Button_styles_1=require("./Button.styles"),Icon_1=__importDefault(require("../Icon")),useSlots_1=require("../../hooks/useSlots"),useDebouncedCallback_1=require("../../hooks/useDebouncedCallback"),regex_1=require("../../helpers/regex"),Spinner_1=__importDefault(require("../Spinner")),Button=react_1.default.forwardRef(function(e,t){var r=void 0===(r=e.className)?"":r,a=e.link,i=void 0!==(n=e.outline)&&n,n=void 0!==(n=e.rounded)&&n,o=void 0!==(o=e.block)&&o,u=e.leftIcon,l=e.rightIcon,c=void 0===(s=e.type)?"primary":s,s=void 0===(s=e.htmlType)?"button":s,d=void 0===(f=e.size)?"base":f,_=e.onClick,f=void 0!==(f=e.active)&&f,p=void 0!==(h=e.disabled)&&h,h=void 0===(h=e.bgAlpha)?85:h,b=(j=__read((0,react_1.useState)(!1),2))[0],v=j[1],m=(0,react_1.useRef)(null),y=(0,useSlots_1.useSlots)(e.children),g=(0,Button_styles_1.useStyles)({type:c,outline:i,block:o,rounded:n,size:d,bgAlpha:h}),j=((0,react_1.useEffect)(function(){v(!!e.loader)},[e.loader]),(0,react_1.useImperativeHandle)(t,function(){return Object.assign({},m.current,{setLoader:v})},[]),(0,useDebouncedCallback_1.useDebounceCallback)(function(e){_&&!p&&_(e)})),x=(0,react_1.useCallback)(function(e){if("string"==typeof e)return(0,jsx_runtime_1.jsx)(Icon_1.default,{name:e,fill:"currentColor",viewBox:"0 0 16 16",width:"1.2rem",height:"1.2rem"});if("function"==typeof e){var t=e();if(react_1.default.isValidElement(t))return t}return react_1.default.isValidElement(e)?e:null},[]),h=(0,react_1.useMemo)(function(){return y.leftIcon||x(u)},[x,y.leftIcon,u]),t=(0,react_1.useMemo)(function(){return y.rightIcon||x(l)},[x,y.rightIcon,l]),k=(0,react_1.useMemo)(function(){return(0,jsx_runtime_1.jsx)(Spinner_1.default,{className:(0,aphrodite_1.css)(g.loader),type:i?c:"dark",size:d,loader:b})},[b,i,d,g.loader,c]);return"link"==c||a?(0,jsx_runtime_1.jsxs)("a",{"data-testid":e.id,"data-active":e.active,"data-size":d,"data-outline":i,"data-rounded":n,"data-block":o,id:e.id,style:e.style,"data-value":e.value,"aria-disabled":p,rel:"noreferrer",target:regex_1.urlRegex.test(a||"#")?"_blank":void 0,href:a||"#",className:"".concat((0,aphrodite_1.css)(g.container)," ").concat(f?(0,aphrodite_1.css)(g.active):""," ").concat(p?(0,aphrodite_1.css)(g.disabled):""," ").concat(r).trim(),children:[h,y.children,b?k:t]}):(0,jsx_runtime_1.jsxs)("button",{"data-testid":e.id,id:e.id,disabled:p,ref:m,"data-active":e.active,"data-size":d,onKeyDown:e.onKeyDown,"data-value":e.value,"data-outline":i,"data-rounded":n,"data-block":o,type:s,className:"".concat((0,aphrodite_1.css)(g.container)," ").concat(f?(0,aphrodite_1.css)(g.active):""," ").concat(p?(0,aphrodite_1.css)(g.disabled):""," ").concat(r).trim(),onClick:j,"aria-disabled":p,style:e.style,children:[h,y.children,b?k:t]})});exports.default=Button;