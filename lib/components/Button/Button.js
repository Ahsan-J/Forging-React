"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,i)}:function(e,t,r,a){e[a=void 0===a?r:a]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(a=n.next()).done;)o.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jsx_runtime_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("react/jsx-runtime")),react_1=__importStar(require("react")),aphrodite_1=require("../../helpers/aphrodite"),Button_styles_1=require("./Button.styles"),Icon_1=__importDefault(require("../Icon")),useSlots_1=require("../../hooks/useSlots"),useDebouncedCallback_1=require("../../hooks/useDebouncedCallback"),regex_1=require("../../helpers/regex"),Spinner_1=__importDefault(require("../Spinner")),Button=react_1.default.forwardRef(function(e,t){var r=e.className,r=void 0===r?"":r,a=e.link,i=e.outline,n=void 0!==i&&i,i=e.rounded,i=void 0!==i&&i,o=e.block,o=void 0!==o&&o,u=e.leftIcon,l=e.rightIcon,c=e.type,s=void 0===c?"primary":c,c=e.htmlType,c=void 0===c?"button":c,d=e.size,_=void 0===d?"base":d,f=e.onClick,d=e.active,d=void 0!==d&&d,p=e.disabled,h=void 0!==p&&p,p=__read((0,react_1.useState)(!1),2),b=p[0],v=p[1],m=(0,react_1.useRef)(null),y=(0,useSlots_1.useSlots)(e.children),g=(0,Button_styles_1.useStyles)({type:s,outline:n,block:o,rounded:i,size:_}),p=((0,react_1.useEffect)(function(){v(!!e.loader)},[e.loader]),(0,react_1.useImperativeHandle)(t,function(){return Object.assign({},m.current,{setLoader:v})},[]),(0,useDebouncedCallback_1.useDebounceCallback)(function(e){f&&!h&&f(e)})),j=(0,react_1.useCallback)(function(e){if("string"==typeof e)return(0,jsx_runtime_1.jsx)(Icon_1.default,{name:e,fill:"currentColor",viewBox:"0 0 16 16",width:"1.2rem",height:"1.2rem"});if("function"==typeof e){var t=e();if(react_1.default.isValidElement(t))return t}return react_1.default.isValidElement(e)?e:null},[]),t=(0,react_1.useMemo)(function(){return y.leftIcon||j(u)},[j,y.leftIcon,u]),x=(0,react_1.useMemo)(function(){return y.rightIcon||j(l)},[j,y.rightIcon,l]),k=(0,react_1.useMemo)(function(){return(0,jsx_runtime_1.jsx)(Spinner_1.default,{className:(0,aphrodite_1.css)(g.loader),type:n?s:"dark",size:_,loader:b})},[b,n,_,g.loader,s]);return"link"==s||a?(0,jsx_runtime_1.jsxs)("a",{"data-testid":e.id,"data-active":e.active,"data-size":_,"data-outline":n,"data-rounded":i,"data-block":o,id:e.id,style:e.style,"data-value":e.value,"aria-disabled":h,rel:"noreferrer",target:regex_1.urlRegex.test(a||"#")?"_blank":void 0,href:a||"#",className:"".concat((0,aphrodite_1.css)(g.container)," ").concat(d?(0,aphrodite_1.css)(g.active):""," ").concat(h?(0,aphrodite_1.css)(g.disabled):""," ").concat(r).trim(),children:[t,y.children,b?k:x]}):(0,jsx_runtime_1.jsxs)("button",{"data-testid":e.id,id:e.id,disabled:h,ref:m,"data-active":e.active,"data-size":_,onKeyDown:e.onKeyDown,"data-value":e.value,"data-outline":n,"data-rounded":i,"data-block":o,type:c,className:"".concat((0,aphrodite_1.css)(g.container)," ").concat(d?(0,aphrodite_1.css)(g.active):""," ").concat(h?(0,aphrodite_1.css)(g.disabled):""," ").concat(r).trim(),onClick:p,"aria-disabled":h,style:e.style,children:[t,y.children,b?k:x]})});exports.default=Button;