"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var l=Object.getOwnPropertyDescriptor(t,a);l&&("get"in l?t.__esModule:!l.writable&&!l.configurable)||(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,l)}:function(e,t,a,r){e[r=void 0===r?a:r]=t[a]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding(t,e,a);return __setModuleDefault(t,e),t},__rest=this&&this.__rest||function(e,t){var a={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]]);return a},__read=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,l,n=a.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(r=n.next()).done;)c.push(r.value)}catch(e){l={error:e}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(l)throw l.error}}return c},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},react_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importStar(require("react"))),input_style_1=__importDefault(require("./input.style")),__1=require(".."),Button_1=__importDefault(require("../Button")),Input=react_1.default.forwardRef(function(e,t){var a=e.label,r=e.type,l=e.htmlType,n=e.labelClass,c=e.className,i=__rest(e,["label","type","htmlType","labelClass","className"]),o=(0,react_1.useId)(),s=__read((0,react_1.useState)("password"!=l),2),u=s[0],_=s[1],s=__read((0,react_1.useState)(""),2),f=s[0],d=s[1],p=(0,react_1.useRef)(null),s=(0,input_style_1.default)({errorText:f,hasPlaceholder:!!i.placeholder});return(0,react_1.useEffect)(function(){e.error&&d(e.error)},[e.error]),(0,react_1.useEffect)(function(){var e,t,a;if(p.current)return e=p.current,t=function(e){return d(null==(e=e.detail)?void 0:e.error)},e.addEventListener("input",a=function(){return d("")}),e.addEventListener("field-error",t),function(){e.removeEventListener("input",a),e.removeEventListener("field-error",t)}},[]),(0,react_1.useImperativeHandle)(t,function(){return Object.assign({setError:d},p.current)},[]),"floating"==r?react_1.default.createElement("div",null,react_1.default.createElement("label",{className:"".concat((0,__1.css)(s.floatInput__label)," ").concat(n||""),htmlFor:o},react_1.default.createElement("input",__assign({},i,{ref:p,className:"".concat((0,__1.css)(s.floatInput__input)," ").concat(c||""),type:u&&"password"==l?"text":l,id:o,"data-name":i.name,placeholder:i.placeholder||a})),react_1.default.createElement("span",null,a),"password"==l&&react_1.default.createElement(Button_1.default,{iconName:u?"eye-fill":"eye-slash-fill",onClick:function(){return _(function(e){return!e})}})),react_1.default.createElement("span",{className:"invalid-feedback",style:f?{display:"block"}:void 0},f)):"floating-textarea"==r?react_1.default.createElement("div",null,react_1.default.createElement("label",{className:"".concat((0,__1.css)(s.floatInput__label)," ").concat(n||""),htmlFor:o},react_1.default.createElement("textarea",__assign({},i,{ref:p,className:"".concat((0,__1.css)(s.floatInput__input)," ").concat(c||""),id:o,"data-name":i.name,placeholder:i.placeholder||a})),react_1.default.createElement("span",null,a)),react_1.default.createElement("span",{className:"invalid-feedback",style:f?{display:"block"}:void 0},f)):"textarea"==r?react_1.default.createElement("div",null,a?react_1.default.createElement("label",{htmlFor:o,className:"".concat(n||"")},a):null,react_1.default.createElement("textarea",__assign({},i,{id:o,"data-name":i.name,ref:p,className:"".concat((0,__1.css)(s.input__input)," ").concat(c||"")})),react_1.default.createElement("span",{className:"invalid-feedback",style:f?{display:"block"}:void 0},f)):react_1.default.createElement("div",null,a?react_1.default.createElement("label",{htmlFor:o,className:"".concat(n||"")},a):null,react_1.default.createElement("input",__assign({},i,{id:o,"data-name":i.name,ref:p,type:u&&"password"==l?"text":l,className:"".concat((0,__1.css)(s.input__input)," ").concat(c||"")})),"password"==l&&react_1.default.createElement(Button_1.default,{iconName:u?"eye-fill":"eye-slash-fill",onClick:function(){return _(function(e){return!e})}}),react_1.default.createElement("span",{className:"invalid-feedback",style:f?{display:"block"}:void 0},f))});Input.defaultProps={className:"",htmlType:"text",placeholder:""},exports.default=Input;